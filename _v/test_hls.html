
<script src="js/mon/jwplayer.js"></script>
<script>
var pxp_ip="127.0.0.1";

function play_vid() {
    jwplayer('my_video1').play(true);
}

function myvid(vq) {

    vq = 'hq';

    jwplayer('my_video1').setup({
        file: 'http://' + pxp_ip + '/events/test/list_00hq.m3u8',
        //'width':'720',
        //'height':'530',
        //allowscriptaccess:"always",
        //allowfullscreen:"true",
        controlbar: "bottom",
        title: '00'+vq+'-title',
        description: '00'+vq+'-desc',
        mediaid: 'video-1'
    });

    jwplayer('my_video2').setup({
        file: 'http://' + pxp_ip + '/events/live/video/list_01'+vq+'.m3u8',
        "controlbar": "bottom",
    });

    jwplayer('my_video3').setup({
        file: 'http://' + pxp_ip + '/events/live/video/list_02'+vq+'.m3u8',
        "controlbar": "bottom",
    });

    jwplayer('my_video4').setup({
        file: 'http://' + pxp_ip + '/events/live/video/list_03'+vq+'.m3u8',
        "controlbar": "bottom",
    });

    jwplayer('my_video1').play(true);
    jwplayer('my_video2').play(true);
    jwplayer('my_video3').play(true);
    jwplayer('my_video4').play(true);

    // Add a custom callback for when user pauses playback
    jwplayer('my_video1').on('pause', function(event) {
        //alert('Why did my user pause their video instead of watching it?');
        var x = 1;
        console.log("pause");
    });
    jwplayer('my_video1').on('play', function(event) {
        //alert('Why did my user pause their video instead of watching it?');
        var pos1 = jwplayer('my_video1').getPosition();
        jwplayer('my_video2').pause(true);
        jwplayer('my_video2').seek(pos1);
        jwplayer('my_video2').pause(false);
        console.log(pos1);
    });
    jwplayer('my_video1').on('seek', function(event) {
        //alert('Why did my user pause their video instead of watching it?');
        var x = 1;
        console.log("seek:"+jwplayer('my_video1').getPosition());
    });
    jwplayer('my_video1').on('seeked', function(event) {
        var x = 1;
        console.log("seeked:"+jwplayer('my_video1').getPosition());
    });
    jwplayer('my_video1').on('time', function(event) {
        console.log("time: pos:"+event.position+"  dur:"+event.duration);
    });
    jwplayer('my_video1').on('ready', function(event) {
        console.log("ready:my_video1");
    });
    jwplayer('my_video1').on('error', function(event) {
        jwplayer('my_video1').load({file:"errorfile.mp4",image:"errorfile.jpg"});
        jwplayer('my_video1').play(true);
    });
    jwplayer('my_video1').on('setupError', function(event) {
        console.log("setupError:my_video1");
    });
    playerInstance.on('buffer', function(){
        theTimeout = setTimeout(function(){
             //playerInstance.load({file:"//mysite.com/errorfile.mp4",image:"//mysite.com/errorfile.jpg"});
             //playerInstance.play();
             console.log("buffer timeout");
        }, 2000);
    });
    jwplayer('my_video1').on('remove', function(event) {
        console.log("remove:my_video1");
    });
    jwplayer('my_video1').on('firstFrame', function(event) {
        console.log("firstFrame:"+event.loadTime+" ms");
    });
    jwplayer('my_video1').on('volume', function(event) {
        console.log("volume:"+event.volume+" %");
    });
    jwplayer('my_video1').on('displayClick', function(event) {
        console.log("displayClick:");
    });


    if(document.cookie.indexOf("jwplayerAutoStart") == -1) {
        document.cookie = "jwplayerAutoStart=1";
        console.log("cookie set");
        //jwplayer('my_video1').play();
    }
}
</script>

<div id="web_player">
    <button id="b1" onclick="myvid('hq')">HQ PLAY</button>
    <button id="b2" onclick="myvid('lq')">LQ PLAY</button>
    <table id="web_player_tbl" border="1">
           <tr>
               <td>
    <video id="my_video1"></video>
               </td>
               <td>
    <video id="my_video2"></video>
               </td>
           </tr>
           <tr>
               <td>
    <video id="my_video3"></video>
               </td>
               <td>
    <video id="my_video4"></video>
               </td>
           </tr>
    </table>
</div>
